---
import LanguageDropdown from '~/components/language-dropdown';
import ThemeToggle from '~/components/theme-toggle';
import {
  EmailIcon,
  GithubIcon,
  MdiLinkedin,
  NotionIcon,
  TwitterXIcon,
} from '~/components/ui/icons';
import {
  getLangFromUrl,
  useTranslatedPath,
  useTranslations,
} from '~/i18n/utils';
import Main from '~/layouts/main.astro';

const lang = getLangFromUrl(Astro.url);
const p = useTranslatedPath(lang);
const t = useTranslations(lang);
---

<Main class="font-serif">
  <div class="flex items-center">
    <h1 class="-mb-0.5">{t('index.name')} ﹒ bepyan</h1>
    <div class="ml-auto flex gap-1">
      <LanguageDropdown client:load {lang} />
      <ThemeToggle client:load />
    </div>
  </div>
  <div data-animate data-animate-speed="slow">
    <!-- 소개 -->
    <div class="my-7" set:html={t('index.desc')} />
    <!-- 현재 -->
    <div class="my-7">
      <p set:html={t('index.currentWork')} />
      <div data-animate class="mt-1 flex gap-0.5">
        <a
          style="--lv-wait: 1;"
          class="rounded p-1 transition-colors hover:bg-selection hover:text-body"
          href="mailto:bepyan@naver.com"
        >
          <EmailIcon />
        </a>
        <a
          style="--lv-wait: 1;"
          class="rounded p-1 transition-colors hover:bg-selection hover:text-body"
          href="https://github.com/bepyan"
          target="_blank"
        >
          <GithubIcon />
        </a>
        <a
          style="--lv-wait: 1;"
          class="rounded p-1 transition-colors hover:bg-selection hover:text-body"
          href="https://twitter.com/__pyungan"
          target="_blank"
        >
          <TwitterXIcon />
        </a>
        <a
          style="--lv-wait: 1;"
          class="rounded p-1 transition-colors hover:bg-selection hover:text-body"
          href="https://www.linkedin.com/in/pyungan-kim-4aa869291/"
        >
          <MdiLinkedin />
        </a>
        <a
          style="--lv-wait: 1;"
          class="flex items-center gap-1 rounded p-1 transition-colors hover:bg-selection hover:text-body"
          href="https://bepyan.notion.site/Frontend-Developer-69fd245161734c1793e8df78dffe705c?pvs=4"
          target="_blank"
        >
          <NotionIcon />
          <span class="text-xs leading-tight">resume</span>
        </a>
      </div>
    </div>
    <!-- 나의 공간 -->
    <div class="my-14 flex gap-7">
      <div>{t('nav.title')}</div>
      <div data-animate class="flex flex-col gap-1">
        {
          (['writing', 'note', 'craft'] as const).map((item) => (
            <div style="--lv-wait: 2;">
              <a class="link font-bold" href={p(`/${item}`)}>
                {t(`nav.${item}`)}
              </a>
              <span class="ml-3 text-sm">{t(`nav.${item}.desc`)}</span>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</Main>
