---
title: '(Svelte) useEffect ì²˜ëŸ¼ ìƒíƒœ êµ¬ë…í•˜ê¸°'
description: ''
date: 2023-11-30 22:47:45
draft: true
tags:
  - svelte
---

> svelteì—ì„œ ì–´ë–»ê²Œ reactì˜ `useEffect` ì²˜ëŸ¼ ìƒíƒœë¥¼ êµ¬ë…í•  ìˆ˜ ìˆë‚˜ìš”?

react ì§„ì˜ ê°œë°œìê°€ svelte ì…ë¬¸í•˜ê²Œ ëœë‹¤ë©´ ë˜ì§€ëŠ” ë‹¨ê³¨ ì§ˆë¬¸ ì¤‘ì— í•˜ë‚˜ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹œì›í•˜ê²Œ í•´ë‹µì„ ì°¾ê¸° ì–´ë ¤ìš´ë°ìš”. ê³µì‹ë¬¸ì„œì—ì„œ svelte íŠ¹ìœ ì˜ `reactive` ë¬¸ë²•ì„ ì´í•´í•˜ê³  ì•Œì•„ì„œ ì´ë¥¼ í™œìš©í•´ì•¼í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

## ê°„ë‹¨í•œ ìƒíƒœ êµ¬ë…

Reactì—ì„œëŠ” `useEffect` í›…ì„ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ê³ , íŠ¹ì • ìƒíƒœê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë¶€ìˆ˜ íš¨ê³¼(side effects)ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```js
useEffect(() => {
  console.log(name);
}, [name]);
```

Svelteì—ì„œëŠ” [reactive statement(ë°˜ì‘í˜• ì„ ì–¸)](https://svelte.dev/docs/svelte-components#script-3-$-marks-a-statement-as-reactive)ì„ ì‚¬ìš©í•˜ì—¬ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Svelteì˜ ë°˜ì‘í˜• ì„ ì–¸ì€ `$:` ê¸°í˜¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ë˜ë©°, Svelte ì»´íŒŒì¼ëŸ¬ëŠ” í‘œí˜„ì‹ ì•ˆì— ì‚¬ìš©ëœ ëª¨ë“  ë³€ìˆ˜ë¥¼ íŒŒì•…í•˜ì—¬ ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.

```svelte
<script>
  $: console.log(name);

  // ì—¬ëŸ¬ ì¤„ í˜•íƒœ
  $: {
    console.log(name);
  }

  // ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜ í˜•íƒœ
  $: (() => {
    console.log(name);
  })();
</script>
```

## íŠ¹ì • ìƒíƒœë§Œ êµ¬ë…

ReactëŠ” ì˜ì¡´ì„± ë°°ì—´ì„ í™œìš©í•˜ì—¬ íŠ¹ì • ìƒíƒœì—ë§Œ ì˜ì¡´í•˜ëŠ” ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
useEffect(() => {
  console.log(state1, state2, state3);
}, [state1]);
// state1ì´ ë³€ê²½ë  ë•Œë§Œ ìˆ˜í–‰ëœë‹¤.
```

í•˜ì§€ë§Œ Svelteì—ì„œëŠ” `$:` ê¸°í˜¸ë¥¼ ì‚¬ìš©í•œ ë°˜ì‘í˜• ì„ ì–¸ì´ ëª¨ë“  ê´€ë ¨ ìƒíƒœì˜ ë³€ê²½ì— ë°˜ì‘í•©ë‹ˆë‹¤. ì¦‰, state1, state2, state3 ì¤‘ ì–´ëŠ í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´ ë¶€ìˆ˜ íš¨ê³¼ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

```svelte
<script>
  $: console.log(state1, state2, state3);
  // ğŸš¨ state1, state2, state3ì´ ë³€ê²½ë  ë•Œ ëª¨ë‘ ìˆ˜í–‰ëœë‹¤.
</script>
```

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, ë¶ˆí•„ìš”í•œ ì˜ì¡´ì„±ì„ `$:`ì—ì„œ ë²—ì–´ë‚˜ë©´ ë©ë‹ˆë‹¤. ì¦‰, **ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë³„ë„ë¡œ ì •ì˜**í•˜ê³  ì˜ì¡´í•  ìƒíƒœë§Œì„ ê±´ë„¤ì£¼ë©´ ë©ë‹ˆë‹¤.

```svelte
<script>
  const effect = (state1) => {
    console.log(state1, state2, state3);
  }
  $: effect(state1);
</script>
```

ë” react ìŠ¤ëŸ½ê²Œ ì‘ì„±í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```svelte
<script>
  const effect = () => {
    console.log(state1, state2, state3);
  }
  $: effect(), [state1];
  // $: {
  //  effect();
  // }, [state1]
</script>
```

ì´ ê²½ìš°, `$:` ë’¤ì— ì˜¤ëŠ” í‘œí˜„ì‹ì€ `state1`ì—ë§Œ ì˜ì¡´í•˜ë¯€ë¡œ, `state1`ì´ ë³€ê²½ë  ë•Œë§Œ effect í•¨ìˆ˜ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

## ë¼ì´í”„ ì‚¬ì´í´ ì—°ë™

```js
useEffect(() => {
  console.log(state1, state2, state3);
}, [state1]);
```

ì¶”ê°€ë¡œ `DOM` ëœë”ë§ ì´í›„ì˜ ê°’ì„ ì¸¡ì •í•´ì•¼í•œë‹¤ë©´ `tick`ì„ í™œìš©í•´ì•¼í•˜ëŠ” ì ì„ ê¼­ ìœ ì˜í•˜ì…”ì•¼ í•©ë‹ˆë‹¤.

## ë§ºìœ¼ë©´ì„œ

ì´ë ‡ê²Œ Svelteì—ì„œëŠ” `$:`ë¥¼ ì‚¬ìš©í•œ ë°˜ì‘í˜• ì„ ì–¸ì„ í†µí•´ Reactì˜ useEffectì™€ ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ìƒíƒœ ë³€í™”ì— ë”°ë¥¸ ë™ì ì¸ ë°˜ì‘ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
