---
import BaseHeader from '~/components/base-header.astro';
import BaseNav from '~/components/base-nav.astro';
import WritingSection from '~/components/writing-section';
import Main from '~/layouts/main.astro';
import { useI18n } from '~/libs/i18n';
import { getWritingPostInfoList } from '~/libs/mdx';

const { lang, t } = useI18n(Astro.url);

const posts = await getWritingPostInfoList();

const title = t('nav.writing');
const description = t('nav.writing.desc');
---

<Main seo={{ title, description }} class="font-serif">
  <BaseHeader {title} {description}>
    <BaseNav class="mt-1.5" />
  </BaseHeader>
  <WritingSection client:load {lang} {posts} />
</Main>
